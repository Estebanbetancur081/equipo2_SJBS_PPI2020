USE bqdx4rtm6x9ytyzm840m;
CREATE TIPO_USUARIO(
CODIGO INT PRIMARY KEY NOT NULL,
TIPO VARCHAR(20) NOT NULL
);

CREATE JUEGO(
CODIGO INT PRIMARY KEY NOT NULL,
JUEGO VARCHAR(20) NOT NULL
);


CREATE FORO(
CODIGO INT PRIMARY KEY NOT NULL,
FORO VARCHAR(20) NOT NULL
);


CREATE LINEA_DE_ATENCIÓN(
CODIGO INT PRIMARY KEY NOT NULL,
JUEGO VARCHAR(20) NOT NULL
);

CREATE TABLE USUARIO(
CORREO VARCHAR(50) PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(20) NOT NULL,
APELLIDO VARCHAR(20) NOT NULL,
CONTRASENA VARCHAR(30) NOT NULL,
SEXO VARCHAR(20) NOT NULL,
FECHA_NAC DATE NOT NULL,
COD_TIPO INT NOT NULL,
FOREIGN KEY(COD_TIPO) REFERENCES TIPO_USUARIO(CODIGO ) 
);


CREATE TABLE DETALLE_USUARIO_JUEGO(
CORREO_USUARIO VARCHAR(50) NOT NULL,
CODIGO_JUEGO INT NOT NULL,
PRIMARY KEY(CORREO_USUARIO,CODIGO_JUEGO),
FOREIGN KEY(CORREO_USUARIO) REFERENCES USUARIO(CORREO),
FOREIGN KEY(CODIGO_JUEGO) REFERENCES JUEGO(INT)
);

CREATE TABLE DETALLE_USUARIO_FORO(
CORREO_USUARIO VARCHAR(50) NOT NULL,
CODIGO_FORO INT NOT NULL,
PRIMARY KEY(CORREO_USUARIO,CODIGO_FORO),
FOREIGN KEY(CORREO_USUARIO) REFERENCES USUARIO(CORREO),
FOREIGN KEY(CODIGO_FORO) REFERENCES FORO(INT)
);

CREATE TABLE DETALLE_USUARIO_LINEA_DE_ATENCIÓN
CORREO_USUARIO VARCHAR(50) NOT NULL,
CODIGO_LINEA_DE_ATENCIÓN INT NOT NULL,
PRIMARY KEY(CORREO_USUARIO,CODIGO_LINEA_DE_ATENCIÓN),
FOREIGN KEY(CORREO_USUARIO) REFERENCES USUARIO(CORREO),
FOREIGN KEY(CODIGO_LINEA_DE_ATENCIÓN) REFERENCES LINEA_DE_ATENCIÓN(INT)
);
